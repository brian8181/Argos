#!/bin/bash

"${Python3_EXECUTABLE}" \
  "${CMAKE_CURRENT_SOURCE_DIR}"/tools/mergecpp.py \
  "${CMAKE_CURRENT_BINARY_DIR}"/ArgosVersion.hpp \
  "${CMAKE_CURRENT_SOURCE_DIR}"/include/Argos/*.hpp \
  --check-time \
  -o "${CMAKE_CURRENT_SOURCE_DIR}"/single_src/Argos.hpp

"${Python3_EXECUTABLE}" \
  "${CMAKE_CURRENT_SOURCE_DIR}"/tools/mergecpp.py \
  "${CMAKE_CURRENT_SOURCE_DIR}"/src/Argos/*.[ch]pp \
  --no-pragma-once \
  -p '#include "Argos.hpp"
' \
  --check-time \
  -o "${CMAKE_CURRENT_SOURCE_DIR}"/single_src/Argos.cpp
